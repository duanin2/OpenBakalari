const request = require('node:util').promisify(require('node:https').request);

const instanceURL = 'spsemoh.bakalari.cz';

const req = request({
		hostname: instanceURL,
		path: '/api/login',
		method: 'POST',
		headers: {
				Content-Type: 'application/x-www-form-urlencoded'
		}
});

req.then((res) => {
		console.log(`STATUS: ${res.statusCode}`);
		console.log(`HEADERS: ${JSON.stringify(res.headers)}`);
		res.setEncoding('utf8');
		res.on('data', (chunk) => {
				console.log(`BODY: ${chunk}`);
		});
		res.on('end', () => {
				console.log('No more data in response.');
		});
}).catch((err) => {
		console.error(err);
});

req.write(`client_id=ANDR&grant_type=password&username=Till357353&password=2Fv9wv3a`);
req.end();
